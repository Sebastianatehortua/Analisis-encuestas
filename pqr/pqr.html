<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Formulario PQR - IPS CEAD ALIVIUM</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    body { background-color: #f8f9fa; padding: 2rem; }
    .form-section { background: #fff; padding: 2rem; border-radius: 1rem; box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.1); margin-bottom: 2rem; }
    h1, h2 { color: #0d6efd; }
    .form-section h2 { margin-bottom: 1.5rem; }
    .form-label { font-weight: 500; }
  </style>
</head>
<body>
  <div class="container">
    <div class="text-center mb-5">
      <h1><i class="bi bi-envelope-paper"></i> Formulario de PQR</h1>
      <p class="lead">IPS CEAD ALIVIUM</p>
    </div>

    <form class="needs-validation" novalidate onsubmit="generarRadicado(event)">
      <!-- Informaci√≥n del solicitante -->
      <div class="form-section">
        <h2><i class="bi bi-person-circle"></i> Datos del Solicitante</h2>
        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label">Nombre completo</label>
            <input type="text" class="form-control" required>
          </div>
          <div class="col-md-6">
            <label class="form-label">Tipo de documento</label>
            <select class="form-select" required>
              <option value="">Seleccione</option>
              <option>C√©dula de ciudadan√≠a</option>
              <option>C√©dula de extranjer√≠a</option>
              <option>Pasaporte</option>
              <option>Otro</option>
            </select>
          </div>
          <div class="col-md-6">
            <label class="form-label">N√∫mero de documento</label>
            <input type="text" class="form-control" required>
          </div>
          <div class="col-md-6">
            <label class="form-label">Correo electr√≥nico</label>
            <input type="email" class="form-control" required>
          </div>
          <div class="col-md-6">
            <label class="form-label">Tel√©fono / Celular</label>
            <input type="text" class="form-control" required>
          </div>
          <div class="col-md-6">
            <label class="form-label">Direcci√≥n</label>
            <input type="text" class="form-control" required>
          </div>
        </div>
      </div>

      <!-- Tipo de solicitud -->
      <div class="form-section">
        <h2><i class="bi bi-ui-checks-grid"></i> Tipo de Solicitud</h2>
        <div class="mb-3">
          <label class="form-label">Seleccione el tipo</label>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="tipoPQR" value="Petici√≥n" required>
            <label class="form-check-label">üìù Petici√≥n</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="tipoPQR" value="Queja">
            <label class="form-check-label">üò† Queja</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="tipoPQR" value="Reclamo">
            <label class="form-check-label">üì¢ Reclamo</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="tipoPQR" value="Sugerencia">
            <label class="form-check-label">üí° Sugerencia</label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="radio" name="tipoPQR" value="Felicitaci√≥n">
            <label class="form-check-label">üéâ Felicitaci√≥n</label>
          </div>
        </div>
      </div>

      <!-- Detalles -->
      <div class="form-section">
        <h2><i class="bi bi-card-text"></i> Detalles de la Solicitud</h2>
        <div class="mb-3">
          <label class="form-label">Asunto</label>
          <input type="text" class="form-control" required>
        </div>
        <div class="mb-3">
          <label class="form-label">Descripci√≥n</label>
          <textarea class="form-control" rows="5" required></textarea>
        </div>
        <div class="mb-3">
          <label class="form-label">Adjuntar archivo (opcional)</label>
          <input type="file" class="form-control">
        </div>
        <div class="mb-3">
          <label class="form-label">Medio preferido de respuesta</label>
          <select class="form-select" required>
            <option value="">Seleccione</option>
            <option>Correo electr√≥nico</option>
            <option>Tel√©fono</option>
            <option>Correo f√≠sico</option>
          </select>
        </div>
      </div>

      <!-- Consentimiento -->
      <div class="form-section">
        <h2><i class="bi bi-shield-lock"></i> Autorizaciones</h2>
        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" required>
          <label class="form-check-label">
            Acepto el tratamiento de mis datos personales conforme a la Ley 1581 de 2012.
          </label>
        </div>
        <div class="form-check mb-3">
          <input class="form-check-input" type="checkbox" required>
          <label class="form-check-label">
            Declaro que la informaci√≥n suministrada es veraz.
          </label>
        </div>
      </div>

      <!-- Env√≠o -->
      <div class="text-center">
        <button type="submit" class="btn btn-primary btn-lg">
          <i class="bi bi-send-fill"></i> Enviar PQR
        </button>
      </div>
    </form>

    <!-- Mensaje de √âxito -->
    <div class="alert alert-success d-none text-center mt-4" id="mensajeExito" role="alert">
      ‚úÖ ¬°Gracias por su PQR! N√∫mero de radicado: <strong id="codigoRadicado"></strong><br>
      <button onclick="window.print()" class="btn btn-outline-dark btn-sm mt-2">
        <i class="bi bi-printer"></i> Imprimir
      </button>
      <button onclick="location.reload()" class="btn btn-outline-primary btn-sm mt-2">
        <i class="bi bi-arrow-repeat"></i> Enviar otro PQR
      </button>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Script principal -->
  <script>
    function generarRadicado(event) {
      event.preventDefault();
      const form = event.target;

      if (!form.checkValidity()) {
        form.classList.add('was-validated');
        return;
      }

      const now = new Date();
      const fecha = now.toISOString().slice(0, 10).replace(/-/g, '');
      const numero = Math.floor(Math.random() * 900 + 100);
      const radicado = `PQR-${fecha}-${numero}`;

      document.getElementById('codigoRadicado').textContent = radicado;
      document.getElementById('mensajeExito').classList.remove('d-none');

      form.style.display = 'none';

      document.getElementById('mensajeExito').scrollIntoView({ behavior: 'smooth', block: 'start' });

      form.classList.add('was-validated');
    }
  </script>

  <!-- Validaci√≥n Bootstrap -->
  <script>
    (() => {
      'use strict';
      const forms = document.querySelectorAll('.needs-validation');
      Array.from(forms).forEach(form => {
        form.addEventListener('submit', event => {
          if (!form.checkValidity()) {
            event.preventDefault();
            event.stopPropagation();
          }
          form.classList.add('was-validated');
        }, false);
      });
    })();
  </script>
</body>
</html>
